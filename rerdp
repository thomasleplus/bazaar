#!/bin/bash
# Encodes plain text to UTF-16 LE (little-endian) format
# Adds byte order mark (0xFF 0xFE) and null bytes between characters

set -euo pipefail
IFS=$'\n\t'

printf "\xff\xfe"
while LANG=C IFS= read -r -d '' -n 1 char; do
	printf "\x00%s" "${char}"
done
